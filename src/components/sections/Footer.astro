---
import LogoIcon from "../ui/LogoIcon.astro";
import footerData from "../../../content/data/footer.json";
---

<footer class="rounded-2xl bg-charcoal px-8 py-12 md:px-16" data-sb-object-id="content/data/footer.json">
  <div class="flex flex-col gap-10">
    <!-- Top -->
    <div class="flex flex-col gap-12 md:flex-row md:gap-16">
      <!-- Brand -->
      <div class="flex flex-col gap-4 md:w-80 shrink-0">
        <span class="flex items-center gap-2 text-xl font-medium text-cream font-body">
          <LogoIcon class="h-8 w-auto" />
          <span data-sb-field-path="siteName">{footerData.siteName}</span>
        </span>
        <p class="max-w-[280px] text-[13px] leading-relaxed text-taupe font-body" data-sb-field-path="tagline">
          {footerData.tagline}
        </p>
      </div>

      <!-- Columns -->
      <div class="grid flex-1 grid-cols-1 gap-8 sm:grid-cols-3">
        <!-- Treatments -->
        <div class="flex flex-col gap-3">
          <span class="text-[11px] font-medium uppercase tracking-[1.5px] text-taupe font-body">
            Treatments
          </span>
          {footerData.treatments.map((item: string, i: number) => (
            <a href="#services" class="text-[13px] text-cream transition-colors duration-200 hover:text-taupe font-body" data-sb-field-path={`treatments.${i}`}>
              {item}
            </a>
          ))}
        </div>

        <!-- Locations -->
        <div class="flex flex-col gap-3">
          <span class="text-[11px] font-medium uppercase tracking-[1.5px] text-taupe font-body">
            Locations
          </span>
          {footerData.locations.map((loc: { name: string; address: string; city: string; phone: string }, i: number) => (
            <div class:list={["flex flex-col gap-1", i > 0 && "mt-2"]} data-sb-field-path={`locations.${i}`}>
              <span class="text-[13px] font-medium text-cream font-body" data-sb-field-path=".name">{loc.name}</span>
              <span class="text-[13px] leading-relaxed text-taupe font-body">
                {loc.address}<br />{loc.city}<br />{loc.phone}
              </span>
            </div>
          ))}
        </div>

        <!-- Connect -->
        <div class="flex flex-col gap-3">
          <span class="text-[11px] font-medium uppercase tracking-[1.5px] text-taupe font-body">
            Connect
          </span>
          {footerData.connectLinks.map((item: { label: string; href: string }, i: number) => (
            <a href={item.href} class="text-[13px] text-cream transition-colors duration-200 hover:text-taupe font-body" data-sb-field-path={`connectLinks.${i}.label`}>
              {item.label}
            </a>
          ))}

          <span class="mt-2 text-[11px] font-medium uppercase tracking-[1.5px] text-taupe font-body">
            Follow Us
          </span>
          <div class="flex gap-3">
            {footerData.socials.map((s: { label: string; icon: string; href: string }) => (
              <a
                href={s.href}
                target="_blank"
                rel="noopener noreferrer"
                aria-label={`Follow us on ${s.label}`}
                class="flex h-9 w-9 items-center justify-center rounded-full border border-footer-border text-taupe transition-colors duration-200 hover:border-cream hover:text-cream"
              >
                {s.icon === "facebook" ? (
                  <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z" /></svg>
                ) : (
                  <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5" /><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z" /><path d="M17.5 6.5h.01" /></svg>
                )}
              </a>
            ))}
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom -->
    <div class="flex flex-col items-center justify-between gap-4 border-t border-footer-border pt-5 md:flex-row">
      <span class="text-xs text-taupe font-body" data-sb-field-path="copyright">
        {footerData.copyright}
      </span>
      <span class="text-xs text-taupe font-body" data-sb-field-path="hours">
        {footerData.hours}
      </span>
    </div>
  </div>
</footer>
