---
import SectionLabel from "../ui/SectionLabel.astro";
import SectionHeading from "../ui/SectionHeading.astro";
import aboutData from "../../../content/data/about.json";

const icons: Record<string, string> = {
  heart: `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>`,
  hand: `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.05 4.575a1.575 1.575 0 10-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 013.15 0v1.5m-3.15 0l.075 5.925m3.075-5.925v3m0-3a1.575 1.575 0 013.15 0v3.15M12.075 10.5l.075 5.925M18 4.575a1.575 1.575 0 012.58 1.215v6.36c0 2.07-.84 4.05-2.33 5.49l-2.1 2.04a3.15 3.15 0 01-2.2.87H9.9a3.15 3.15 0 01-2.32-1.02L4.05 15.41a1.575 1.575 0 011.068-2.678l.542.001a1.575 1.575 0 001.118-.463l.413-.413" /></svg>`,
  book: `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" /></svg>`,
  layers: `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L12 12.75 6.429 9.75m11.142 0l4.179 2.25-9.75 5.25-9.75-5.25 4.179-2.25" /></svg>`,
  zap: `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" /></svg>`,
};
---

<section id="about" class="overflow-hidden rounded-2xl bg-cream" data-sb-object-id="content/data/about.json">
  <div class="flex flex-col gap-12 px-8 py-16 md:flex-row md:gap-16 md:px-16">
    <!-- Left: Text content -->
    <div class="flex flex-1 flex-col gap-6">
      <SectionLabel>{aboutData.label}</SectionLabel>
      <SectionHeading>{aboutData.heading}</SectionHeading>

      <div class="flex flex-col gap-4 text-[15px] leading-relaxed text-charcoal font-body">
        {aboutData.paragraphs.map((p: string, i: number) => (
          <p data-sb-field-path={`paragraphs.${i}`}>{p}</p>
        ))}
      </div>
    </div>

    <!-- Right: Value props -->
    <div class="flex flex-1 flex-col gap-4">
      {aboutData.values.map((item: { icon: string; title: string; description: string }, i: number) => (
        <div
          class="animate-on-scroll flex items-start gap-4 rounded-xl bg-white/50 p-4 transition-all duration-300 hover:bg-white/80"
          style={`transition-delay: ${i * 0.08}s`}
          data-sb-field-path={`values.${i}`}
        >
          <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-sage/50 text-dark">
            <Fragment set:html={icons[item.icon]} />
          </div>
          <div>
            <h3 class="text-[15px] font-medium text-dark font-body" data-sb-field-path=".title">{item.title}</h3>
            <p class="mt-1 text-sm leading-relaxed text-muted font-body" data-sb-field-path=".description">{item.description}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
